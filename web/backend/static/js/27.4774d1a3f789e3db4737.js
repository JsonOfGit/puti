webpackJsonp([27],{LDDy:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o("+aXT"),s={data:function(){return{settingType:"discuss",form:{article_comment_status:"open",page_comment_status:"open",comment_need_register:"0",show_comment_page:"",comment_per_page:15,comment_page_first:"",comment_page_top:"",comment_before_show:"",show_avatar:1},commentStatus:[],commentNeedRegister:!1,showCommentPage:!0,showAvatar:!0}},created:function(){this.setTitle(),this.getOptions()},methods:{setTitle:function(){document.title=this.$t("route."+this.$route.meta.title)+" | Puti"},getQuery:function(){return{settingType:this.settingType}},getOptions:function(){var t=this;Object(n.a)(this.getQuery()).then(function(e){var o=e.data;t.form.article_comment_status=o.article_comment_status,t.form.page_comment_status=o.page_comment_status,"open"===o.article_comment_status&&t.commentStatus.push("article"),"open"===o.page_comment_status&&t.commentStatus.push("page"),t.form.comment_need_register=o.comment_need_register,"yes"===o.comment_need_register?t.commentNeedRegister=!0:t.commentNeedRegister=!1,t.form.show_comment_page=o.show_comment_page,"on"===o.show_comment_page?t.showCommentPage=!0:t.showCommentPage=!1,t.form.comment_per_page=o.comment_per_page,t.form.comment_page_first=o.comment_page_first,t.form.comment_page_top=o.comment_page_top,t.form.comment_before_show=o.comment_before_show,t.form.show_avatar=o.show_avatar,"on"===o.show_avatar?t.showAvatar=!0:t.showAvatar=!1})},saveSetting:function(){var t=this;-1!==this.commentStatus.indexOf("article")?this.form.article_comment_status="open":this.form.article_comment_status="close",-1!==this.commentStatus.indexOf("page")?this.form.page_comment_status="open":this.form.page_comment_status="close",this.commentNeedRegister?this.form.comment_need_register="yes":this.form.comment_need_register="no",this.showCommentPage?this.form.show_comment_page="on":this.form.show_comment_page="off",this.showAvatar?this.form.show_avatar="on":this.form.show_avatar="off",Object(n.b)(this.getQuery(),this.form).then(function(e){t.$message({message:t.$t("common.operationSucceeded"),type:"success",duration:2e3}),t.getOptions()})},resetSetting:function(){this.getOptions()}}},a={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-card",{staticClass:"box-card setting-form",attrs:{shadow:"hover"}},[o("div",{staticClass:"setting-form-header clearfix",attrs:{slot:"header"},slot:"header"},[o("span",{staticClass:"setting-header-title"},[t._v(t._s(t.$t("option.contentSetting")))]),t._v(" "),o("span",{staticClass:"setting-header-subtitle"},[t._v(t._s(t.$t("option.contentSettingDiscuss")))])]),t._v(" "),o("el-form",{ref:"form",attrs:{model:t.form,"label-width":"150px"}},[o("div",{staticClass:"setting-form-body"},[o("el-row",[o("el-col",{attrs:{span:14,offset:3}},[o("el-tabs",{staticStyle:{height:"500px","margin-bottom":"20px"},attrs:{"tab-position":"left"}},[o("el-tab-pane",{attrs:{label:t.$t("option.contentSettingComment")}},[o("el-form-item",{attrs:{label:t.$t("option.contentOpenComment")}},[o("el-checkbox-group",{model:{value:t.commentStatus,callback:function(e){t.commentStatus=e},expression:"commentStatus"}},[o("el-checkbox",{attrs:{label:"article"}},[t._v(t._s(t.$t("option.contentOpenCommentArticle")))]),t._v(" "),o("el-checkbox",{attrs:{label:"page"}},[t._v(t._s(t.$t("option.contentOpenCommentPage")))])],1),t._v(" "),o("p",{staticClass:"setting-form-desc"},[t._v(t._s(t.$t("option.contentOpenCommentDesc")))])],1),t._v(" "),o("el-form-item",{attrs:{label:t.$t("option.contentCommentSetting")}},[o("el-checkbox-group",{model:{value:t.commentNeedRegister,callback:function(e){t.commentNeedRegister=e},expression:"commentNeedRegister"}},[o("el-checkbox",{attrs:{label:"false"}},[t._v(t._s(t.$t("option.contentCommentUserRegister")))])],1),t._v(" "),o("el-checkbox-group",{model:{value:t.showCommentPage,callback:function(e){t.showCommentPage=e},expression:"showCommentPage"}},[o("el-checkbox",{attrs:{name:"show_comment_page"}},[t._v("\n                                  "+t._s(t.$t("option.contentCommentShow1"))+"\n                                  "),o("el-select",{staticStyle:{width:"70px"},attrs:{size:"mini"},model:{value:t.form.comment_per_page,callback:function(e){t.$set(t.form,"comment_per_page",e)},expression:"form.comment_per_page"}},[o("el-option",{attrs:{label:"5",value:"5"}}),t._v(" "),o("el-option",{attrs:{label:"10",value:"10"}}),t._v(" "),o("el-option",{attrs:{label:"15",value:"15"}}),t._v(" "),o("el-option",{attrs:{label:"20",value:"20"}}),t._v(" "),o("el-option",{attrs:{label:"25",value:"25"}})],1),t._v("\n                                  "+t._s(t.$t("option.contentCommentShow2"))+"\n                                  "),o("el-select",{staticStyle:{width:"90px"},attrs:{size:"mini"},model:{value:t.form.comment_page_first,callback:function(e){t.$set(t.form,"comment_page_first",e)},expression:"form.comment_page_first"}},[o("el-option",{attrs:{label:t.$t("option.contentCommentFast"),value:"last"}}),t._v(" "),o("el-option",{attrs:{label:t.$t("option.contentCommentFirst"),value:"first"}})],1),t._v("\n                                  "+t._s(t.$t("option.contentCommentShow3"))+"\n                              ")],1)],1),t._v("\n                          "+t._s(t.$t("option.contentCommentShow4"))+"\n                          "),o("el-select",{staticStyle:{width:"90px"},attrs:{size:"mini"},model:{value:t.form.comment_page_top,callback:function(e){t.$set(t.form,"comment_page_top",e)},expression:"form.comment_page_top"}},[o("el-option",{attrs:{label:t.$t("option.contentCommentOld"),value:"old"}}),t._v(" "),o("el-option",{attrs:{label:t.$t("option.contentCommentNew"),value:"new"}})],1),t._v("\n                          "+t._s(t.$t("option.contentCommentShow5"))+"\n                          "),o("p",{staticClass:"setting-form-desc"},[t._v(t._s(t.$t("option.contentCommentShowDesc")))])],1),t._v(" "),o("el-form-item",{attrs:{label:t.$t("option.contentCommentBeforeShowSetting")}},[o("el-radio-group",{model:{value:t.form.comment_before_show,callback:function(e){t.$set(t.form,"comment_before_show",e)},expression:"form.comment_before_show"}},[o("el-radio",{attrs:{border:"",size:"small",label:"manualApproval"}},[t._v(t._s(t.$t("option.contentCommentMustPass")))]),t._v(" "),o("el-radio",{attrs:{border:"",size:"small",label:"commentPass"}},[t._v(t._s(t.$t("option.contentCommentPassBefore")))]),t._v(" "),o("el-radio",{attrs:{border:"",size:"small",label:"directly"}},[t._v(t._s(t.$t("option.contentCommentShowDirectly")))])],1),t._v(" "),o("p",{staticClass:"setting-form-desc"},[t._v(t._s(t.$t("option.contentCommentBeforeShowDesc")))])],1)],1),t._v(" "),o("el-tab-pane",{attrs:{label:t.$t("option.contentAvator")}},[o("el-form-item",{attrs:{label:t.$t("option.contentshowAvatar")}},[o("el-switch",{model:{value:t.showAvatar,callback:function(e){t.showAvatar=e},expression:"showAvatar"}})],1)],1)],1)],1)],1),t._v(" "),o("el-row",{staticClass:"setting-form-footer"},[o("el-col",{attrs:{span:14,offset:5}},[o("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.saveSetting}},[t._v(t._s(t.$t("option.siteSettingSave")))]),t._v(" "),o("el-button",{attrs:{size:"small"},on:{click:t.resetSetting}},[t._v(t._s(t.$t("common.reset")))])],1)],1)],1)])],1)},staticRenderFns:[]},m=o("VU/8")(s,a,!1,null,null,null);e.default=m.exports}});