{{define "Emma/subject-list"}}
{{if .SubjectInfo}}
<div class="subject-header card rounded-0 mb-3">
    <div class="card-body">
        <h4 class="card-title">{{.SubjectInfo.Name}}</h4>
        <p class="card-text text-muted">{{.SubjectInfo.Description}}</p>
        <hr>
        <p class="mb-0 text-muted">
            当前共有 {{.SubjectInfo.Count}} 篇文章
            <a href="{{.SubjectInfo.ParentURL}}" class="btn btn-sm btn-outline-dark float-right"><i class="fa fa-rotate-left"></i> 返回上级</a>
        </p>
    </div>
</div>
{{end}}

<div class="subject-body card-columns">
    {{range .SubjectList}}
        <div class="card rounded-0 text-center">
            <img src="{{.CoverImageURL}}" class="card-img-top d-block rounded-0" alt="{{.Slug}}" height="180" />
            <div class="card-body">
                <h4 class="card-title"><a href="/subject/{{.Slug}}">{{.Name}}</a></h4>
                <p class="card-subtitle mb-2 text-muted">{{.Count}} 篇文章</p>
                <p class="card-text">{{.Description}}</p>
                <a href="/subject/{{.Slug}}" class="card-button btn btn-sm btn-outline-primary">查看专题</a>
            </div>
            <div class="card-footer text-muted">
                {{.SubLastUpdatedDay}}
            </div>
        </div>
    {{end}}
</div>

{{if .SubjectArticles}}
<div class="subject-detail-body list-group">
    {{range .SubjectArticles}}
    <a href="{{.GUID}}" class="list-group-item list-group-item-action flex-column align-items-start rounded-0 ">
        <h5 class="subject-detail-title mb-1">{{.Title}}</h5>
        <span>
            <small>
                <span class="mr-2">{{.ViewCount}} 阅读</span>
                <span class="mr-2">{{.CommentCount}} 评论</span>
                <span class="float-right">{{ .PostedTime }}</span>
            </small>
        </span>
    </a>
    {{end}}
</div>
{{end}}

{{end}}

