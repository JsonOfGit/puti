webpackJsonp([12],{"69U0":function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.el-upload{\r\n  width: 100%;\n}\n.el-upload-dragger{\r\n  border: 2px dashed #d9d9d9;\r\n  width: 100%;\n}\n.el-upload__tip{\r\n  margin-left: 5px;\r\n  font-size: 14px;\r\n  color: rgb(17, 51, 109)\n}\r\n",""])},"6Uer":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("M9A7"),i=a("oCAU"),o={name:"profile",data:function(){return{uploadUIrl:"/api/media",uploadHeaders:{Authorization:""},uploadParams:{userId:""},fileList:[]}},created:function(){this.getInfo(),this.setTitle()},methods:{setTitle:function(){document.title=this.$t("route."+this.$route.meta.title)+" | Puti"},getInfo:function(){var e=this,t=this.$store.getters.token;this.uploadHeaders.Authorization="Bearer "+t,Object(s.a)(t).then(function(t){e.uploadParams.userId=t.data.id})},uploadSuccess:function(e,t,a){0===e.code?(this.$message({message:this.$t("media.uploadSucceeded"),type:"success",duration:3e3}),t.id=e.data.id):this.$message.error({message:this.$t("media.uploadFailed")+e.message,duration:3e3})},handleRemove:function(e,t){},beforeRemove:function(e,t){var a=this;this.$confirm(this.$t("media.checkToDeleteMedia")+this.$t("media.fileName")+":"+e.name,this.$t("common.tips"),{confirmButtonText:this.$t("common.confirm"),cancelButtonText:this.$t("common.cancel"),type:"warning",center:!0}).then(function(){Object(i.a)(e.id).then(function(t){0===t.code?(a.$message({message:a.$t("common.deleteSucceeded"),type:"success",duration:3e3}),e.id=t.data.id):a.$message.error({message:a.$t("common.operationFailed")+t.message,duration:3e3})})}).catch(function(){a.$message({type:"info",message:a.$t("common.cancelDelete")})})}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-upload",{staticClass:"media-upload",attrs:{drag:"",action:e.uploadUIrl,headers:e.uploadHeaders,data:e.uploadParams,"list-type":"picture","on-success":e.uploadSuccess,"on-remove":e.handleRemove,"before-remove":e.beforeRemove,name:"file","file-list":e.fileList,multiple:""}},[a("i",{staticClass:"el-icon-upload"}),e._v(" "),a("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),a("em",[e._v("点击上传")])]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[a("i",{staticClass:"el-icon-warning"}),e._v(" 只能上传图片或视频文件")])])],1)},staticRenderFns:[]};var r=a("VU/8")(o,n,!1,function(e){a("mtG9"),a("h2ms")},"data-v-4dc64a9b",null);t.default=r.exports},h2ms:function(e,t,a){var s=a("pblL");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);a("rjj0")("6d0b7580",s,!0)},mtG9:function(e,t,a){var s=a("69U0");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);a("rjj0")("7eacf31c",s,!0)},pblL:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.media-upload[data-v-4dc64a9b]{\n}\r\n",""])}});