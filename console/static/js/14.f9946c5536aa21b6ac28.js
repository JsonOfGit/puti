webpackJsonp([14],{"HY+N":function(t,e,o){var n=o("UrrJ");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);o("rjj0")("4c0b1eaf",n,!0)},UrrJ:function(t,e,o){(t.exports=o("FZ+f")(!1)).push([t.i,"\n.new-tag-form{\r\n    border: 1px solid #EBEEF5;\r\n    padding: 0 10px 0 10px;\n}\r\n",""])},cPS6:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o("h3d2"),a={name:"tag",data:function(){return{list:null,listLoading:!0,newForm:{name:"",slug:"",description:""},updateForm:{id:void 0,name:"",slug:"",description:""},dialogFormVisible:!1}},created:function(){this.setTitle(),this.getList()},methods:{setTitle:function(){document.title=this.$t("route."+this.$route.meta.title)+" | Puti"},getList:function(){var t=this;this.listLoading=!0,Object(n.c)({type:"tag"}).then(function(e){t.list=e.data,t.listLoading=!1})},clearNewForm:function(){this.newForm.name="",this.newForm.slug="",this.newForm.description=""},createTag:function(){var t=this;this.newForm.taxonomy="tag",Object(n.a)(this.newForm).then(function(e){t.$message({message:t.$t("common.operationSucceeded"),type:"success",duration:2e3}),t.getList(),t.clearNewForm()})},handleDetail:function(t){var e=this;Object(n.d)(t.term_id).then(function(t){e.dialogFormVisible=!0,e.updateForm.id=t.data.term_id,e.updateForm.name=t.data.name,e.updateForm.slug=t.data.slug,e.updateForm.description=t.data.description})},updateTag:function(){var t=this;this.dialogFormVisible=!1,this.updateForm.taxonomy="tag",Object(n.e)(this.updateForm.id,this.updateForm).then(function(e){t.$message({message:t.$t("common.operationSucceeded"),type:"success",duration:2e3}),t.getList()})},handleDelete:function(t){var e=this;this.$confirm(this.$t("taxonomy.confirmToDeleteTag"),this.$t("common.tips"),{confirmButtonText:this.$t("common.confirm"),cancelButtonText:this.$t("common.cancel"),type:"warning",center:!0}).then(function(){Object(n.b)(t.id,{taxonomy:"tag"}).then(function(t){e.getList(),e.$message({type:"success",message:e.$t("common.deleteSucceeded")})})}).catch(function(){e.$message({type:"info",message:e.$t("common.cancelDelete")})})}}},i={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"app-container"},[o("el-row",{attrs:{gutter:30}},[o("el-col",{attrs:{xs:24,sm:24,md:8,lg:8,xl:8}},[o("el-form",{ref:"newForm",staticClass:"new-tag-form",attrs:{model:t.newForm,"label-width":"80px","label-position":"top"}},[o("h4",[t._v(t._s(t.$t("taxonomy.newTag")))]),t._v(" "),o("el-form-item",{attrs:{label:t.$t("taxonomy.taxonomyName")}},[o("el-input",{model:{value:t.newForm.name,callback:function(e){t.$set(t.newForm,"name",e)},expression:"newForm.name"}})],1),t._v(" "),o("el-form-item",{attrs:{label:t.$t("taxonomy.taxonomySlug")}},[o("el-input",{model:{value:t.newForm.slug,callback:function(e){t.$set(t.newForm,"slug",e)},expression:"newForm.slug"}})],1),t._v(" "),o("el-form-item",{attrs:{label:t.$t("taxonomy.taxonomyDesc")}},[o("el-input",{attrs:{type:"textarea"},model:{value:t.newForm.description,callback:function(e){t.$set(t.newForm,"description",e)},expression:"newForm.description"}})],1),t._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.createTag()}}},[t._v(t._s(t.$t("common.addNow")))]),t._v(" "),o("el-button",{attrs:{size:"small",plain:""},on:{click:function(e){t.clearNewForm()}}},[t._v(t._s(t.$t("common.clear")))])],1)],1)],1),t._v(" "),o("el-col",{attrs:{xs:24,sm:24,md:16,lg:16,xl:16}},[o("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:t.listLoading,expression:"listLoading",modifiers:{body:!0}}],staticStyle:{width:"100%"},attrs:{data:t.list,"max-height":"800",border:"",fit:"","highlight-current-row":""}},[o("el-table-column",{attrs:{width:"200",label:t.$t("taxonomy.tag")},scopedSlots:t._u([{key:"default",fn:function(e){return[o("span",[t._v(t._s(e.row.name))])]}}])}),t._v(" "),o("el-table-column",{attrs:{width:"200",label:t.$t("taxonomy.taxonomySlug")},scopedSlots:t._u([{key:"default",fn:function(e){return[o("span",[t._v(t._s(e.row.slug))])]}}])}),t._v(" "),o("el-table-column",{attrs:{label:t.$t("taxonomy.taxonomyDesc")},scopedSlots:t._u([{key:"default",fn:function(e){return[o("span",[t._v(t._s(e.row.description))])]}}])}),t._v(" "),o("el-table-column",{attrs:{width:"100",label:t.$t("taxonomy.articleNumber")},scopedSlots:t._u([{key:"default",fn:function(e){return[o("span",[t._v(t._s(e.row.count))])]}}])}),t._v(" "),o("el-table-column",{attrs:{label:t.$t("common.action"),width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini",circle:""},on:{click:function(o){t.handleDetail(e.row)}}}),t._v(" "),o("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini",circle:""},on:{click:function(o){t.handleDelete(e.row)}}})]}}])})],1)],1)],1),t._v(" "),o("el-dialog",{attrs:{title:t.$t("taxonomy.tagDetail"),visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.closeUpdateDialog}},[o("el-form",{attrs:{model:t.updateForm}},[o("el-form-item",{attrs:{label:t.$t("taxonomy.taxonomyName")}},[o("el-input",{model:{value:t.updateForm.name,callback:function(e){t.$set(t.updateForm,"name",e)},expression:"updateForm.name"}})],1),t._v(" "),o("el-form-item",{attrs:{label:t.$t("taxonomy.taxonomySlug")}},[o("el-input",{model:{value:t.updateForm.slug,callback:function(e){t.$set(t.updateForm,"slug",e)},expression:"updateForm.slug"}})],1),t._v(" "),o("el-form-item",{attrs:{label:t.$t("taxonomy.taxonomyDesc")}},[o("el-input",{attrs:{type:"textarea"},model:{value:t.updateForm.description,callback:function(e){t.$set(t.updateForm,"description",e)},expression:"updateForm.description"}})],1)],1),t._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v(t._s(t.$t("common.cancel")))]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.updateTag()}}},[t._v(t._s(t.$t("common.confirm")))])],1)],1)],1)},staticRenderFns:[]};var l=o("VU/8")(a,i,!1,function(t){o("HY+N")},null,null);e.default=l.exports}});